<div class="container-fluid p-5">

    <div class="row mb-5">

        <div class="col-auto">
            <h2> Disponible ce jour </h2>
        </div>

        <div class="col align-self-center">
            <button mat-button 
            id="planning-btn" 
            aria-label="Button to switch periods" 
            (click)="getPlanning()">
                <mat-icon>signal_cellular_alt</mat-icon>
                <span class="mx-3"id="planning-btn-period">{{ itsMorning ? 'Matin' : 'Après-Midi'}}</span>
                <mat-icon id="planning-btn-arrow">
                    {{ itsMorning ? 'keyboard_arrow_down' : 'keyboard_arrow_up' }}
                </mat-icon>
            </button>

        </div>

    </div>

    <div class="row bg-white align-items-center px-3" *ngFor="let room of rooms; let i = index">

        <div class="col-3">
            <mat-icon class="ml-3 mr-5">keyboard_arrow_down</mat-icon>
            <span>{{room.name}}</span>
        </div>

        <div class="col py-3">
            <!--affiches des numeros des heures au dessus -->
            <div class="timeline-container-heures">
                <div class="timeline-flag-heure"><span>{{ itsMorning ? 8 : 13 }}</span></div>
                <div class="timeline-flag-heure"><span>{{ itsMorning ? 9 : 14 }}</span></div>
                <div class="timeline-flag-heure"><span>{{ itsMorning ? 10 : 15 }}</span></div>
                <div class="timeline-flag-heure"><span>{{ itsMorning ? 11 : 16 }}</span></div>
                <div class="timeline-flag-heure timeline-flag-heure-last">
                    <span>{{ itsMorning ? 12 : 17 }}</span>
                    <span class="float-right">{{ itsMorning ? 13 : 18 }}</span>
                </div>
            </div>
            <!-- blocs des réservations en bleu foncé -->
            <div class="timeline-container">
                <div *ngFor="let booking of rooms[i].bookings">

                    <div
                    *ngIf="!itsMorning && booking.startDate.getHours() >= 13" 
                    class="timeline-tile"
                    [ngStyle]="setReservationParameters(booking)">
                    </div>

                    <div
                    *ngIf="itsMorning && booking.startDate.getHours() < 13" 
                    class="timeline-tile"
                    [ngStyle]="setReservationParameters(booking)">
                    </div>

                </div>
                <!-- blocs avec des bordures à droite pour flags les heures -->
                <div class="timeline-flag"></div>
                <div class="timeline-flag"></div>
                <div class="timeline-flag"></div>
                <div class="timeline-flag"></div>

            </div>

        </div>

    </div>

</div>