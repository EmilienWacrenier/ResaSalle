<div class="container-fluid">

    <div class="row justify-content-center mb-2 p-2 rounded align-items-center">
        <h4 class="titre m-0 w-100" style="color:#0066a1">Salle {{room.name}}</h4>
        <h4 class="titre m-0" style="color:#0066a1">Objet et Participants</h4>
    </div>

    <div class="row justify-content-center align-items-start">
        <div class="col pl-0">
            <mat-form-field class="w-100">
                <input matInput autocomplete="off" placeholder="Objet" [(ngModel)]="objet">
            </mat-form-field>
            <span class="d-block text-danger small" *ngIf="errorObjet">{{errorObjet}}</span>
        </div>
    </div>

    <div class="row justify-content-center align-items-start">
        <div class="col-6 border rounded p-2">
            <div class="container-fluid">
                <!--Liste des utilisateurs -->
                <div class="row justify-content-center text-center align-items-center">

                    <div class="col-auto">
                        <!--Recherche des participants -->
                        <mat-form-field class="search-form">
                            <mat-label>Participants</mat-label>
                            <input matInput autocomplete="off" (keyup)="onKey($event)"
                                (keyup.enter)="onKeyEnter($event)">
                            <mat-icon matPrefix>search</mat-icon>
                        </mat-form-field>
                    </div>

                    <div class="col">
                        <button mat-stroked-button color="primary" (click)="resetParticipants()">Reset</button>
                    </div>
                </div>

                <!--Liste des participants-->
                <div class="row liste">
                    <mat-list>
                        <mat-list-item *ngFor="let user of usersList" (click)="onSelectParticipant(user)">
                            {{user.firstName|titlecase}} {{user.lastName|titlecase}}
                        </mat-list-item>
                    </mat-list>
                </div>
                <!--Vignettes et bouton next-->
                <mat-divider></mat-divider>
                <div class="row p-2 justify-content-around">
                    <div class="col-3 m-1 p-1 border rounded text-center"
                        *ngFor="let participant of selectedParticipants" (click)="removeParticipant(participant)">
                        {{participant.firstName | slice:0:1}}. {{participant.lastName}}
                    </div>
                </div>
                <div class="row p-2 justify-content-around">
                    <div class="col-3 m-1 p-1 border rounded text-center" *ngFor="let email of emailList"
                        (click)="removeEmail(email)">
                        {{email}}
                    </div>
                </div>

                <div class="row justify-content-center my-2">
                    <mat-dialog-actions>
                        <button matButton class="mat-raised-button" (click)="onSubmit()">Créer la réservation</button>
                        <span class="d-block text-danger small p-1" *ngIf="baseMessage">{{baseMessage}}</span>
                    </mat-dialog-actions>
                </div>

            </div>
        </div>
    </div>
</div>